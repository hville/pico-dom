(function(h){function r(a,b){var c=a.update?a:g.get(a);if(c)return c.a?c.clone(b).a:c.clone(b).node;c=a.cloneNode(!1);return!1===b?c:t(a,c)}function t(a,b){for(a=a.firstChild;a;){a=r(a,!0);var c=a.nextSibling,d=g.get(a);d?d.moveTo(b):b.appendChild(a);a=c}return b}function k(a){this.path=a||[]}function p(a,b,c,d){c=c||null;if(b)for(var e=0;e<b.length;++e)c=u(a,b[e],c);for(c=c?c.nextSibling:a.firstChild;c!=d;)b=c.nextSibling,a.removeChild(c),c=b;return a}function u(a,b,c){var d=g.node(a);return c?(c=
c.nextSibling)?b===c?b:b===c.nextSibling?a.removeChild(c):d.insertBefore(b,c):a.appendChild(b):d.insertBefore(b,a.firstChild)}function n(a,b){void 0!==b&&(this.h="function"===typeof b?b:function(a){return a[b]});this.c={};this.j=a;this.head=m.createComment("^");this.a=m.createComment("$");g.set(this.head,this);g.set(this.a,this)}function l(a,b){if(b)for(var c=0,d=Object.keys(b);c<d.length;++c)this[d[c]]=b[d[c]];this.node=a;g.set(a,this)}function q(a){return a instanceof k?(new l(m.createTextNode(""))).l(a):
new l(m.createTextNode(a||""))}var m="undefined"!==typeof document?document:void 0,g={get:function(a){return a.m},set:function(a,b){return a.m=b},node:function(a){return a.node||a.nodeType&&a||null}},f=k.prototype;f.i=function(){for(var a=this.path.slice(),b=0;b<arguments.length;++b)a.push(arguments[b]);return new k(a)};f.get=function(a){for(var b=this.path,c=0;c<b.length;++c){var d=b[c];if(void 0!==a[d])a=a[d];else if("function"===typeof d)a=d(a);else return}return a};f=n.prototype;f.h=function(a,
b){return b};f.clone=function(){return new n(this.j,this.h)};f.moveTo=function(a,b){var c=this.a,d=this.head,e=d.parentNode;a=g.node(a);b=b||null;if((e||a)&&b!==c&&(e!==a||b!==c.nextSibling))if(a)for(a.insertBefore(d,b),a.insertBefore(c,b),d=0,e=Object.keys(this.c);d<e.length;++d)a.insertBefore(this.c[e[d]].node,c);else p(e,null,d,c),e.removeChild(d),e.removeChild(c);return this};f.update=f.i=function(a){for(var b=this.c,c=this.c={},d=this.h,e=this.head,f=this.a,h=f.parentNode,g=0;g<a.length;++g){var l=
a[g],k=d(l,g,a),k=c[k]=b[k]||this.j(k,g);k.update(l,g,a);h&&(e=u(h,k.node,e))}h&&p(h,null,e,f);return this};f=l.prototype;f.b=null;f.w=null;f.clone=function(a){var b=this.node.cloneNode(!1);!1!==a&&t(this.node,b);return new l(b,this)};f.A=function(a,b,c){for(var d=this.node.firstChild;d;){var e=g.get(d);e&&(e.update(a,b,c),e.a&&(d=e.a));d=d.nextSibling}return this};f.update=f.i=function(a,b,c){if(this.b)for(var d=0;d<this.b.length;++d)this.b[d].call(this,a,b,c);return this};f.moveTo=function(a,b){var c=
this.node,d=c.parentNode;a?g.node(a).insertBefore(c,b||null):d&&d.removeChild(c);this.o&&this.o(d,a);return this};f.g=function(a){this.b?this.b.push(a):this.b=[a];return this};f.v=function(a,b){if(b instanceof k)return this.g(function(c,d,e){return this.v(a,b.get(c,d,e))});this.node[a]!==b&&(this.node[a]=b);return this};f.l=function(a){if(a instanceof k)return this.g(function(b,d,e){return this.l(a.get(b,d,e))});var b=this.node.firstChild;b&&!b.nextSibling?b.nodeValue!==a&&(b.nodeValue=a):this.node.textContent=
a;return this};f.u=function(a,b){if(b instanceof k)return this.g(function(c,d,e){return this.u(a,b.get(c,d,e))});!1===b?this.node.removeAttribute(a):this.node.setAttribute(a,!0===b?"":b);return this};f.f=function(a){if(a instanceof k)throw Error("childLens not supported");switch(null==a?a:a.constructor||Object){case null:case void 0:break;case Array:for(var b=0;b<a.length;++b)this.f(a[b]);break;case Number:this.f(q(""+a));break;case String:this.f(q(a));break;case l:case n:a.moveTo(this.node);break;
default:if(a.nodeType)this.node.appendChild(a);else throw Error("unsupported child type "+typeof a);}};h.H=function(a){m=a};h.cloneNode=r;h.createElement=function(a){return new l(a.nodeType?a:m.createElement(a))};h.createElementNS=function(a,b){return new l(b.nodeType?b:m.createElementNS(a,b))};h.B=function(a){return new l(a.nodeType?a:m.createElementNS("http://www.w3.org/2000/svg",a))};h.createTextNode=q;h.G=p;h.update=function(a,b,c,d){var e=a.update?a:g.get(a);return e?e.update(b,c,d):a};h.F=function(a){return new k(Array.isArray(a)?
a:null!=a?[a]:[])};h.C=function(a,b){return new n("function"===typeof a?a:a.clone?function(){return a.clone(!0)}:function(){return new l(a.cloneNode(!0))},b)};h.D=g})(this.s=this.s||{});

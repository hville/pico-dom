(function(f){function g(a,b){this.m=a;this.j=b||[]}function q(a,b){return b[0]?0===b.length?b[0].call(a):1===b.length?b[0].call(a,b[1]):b[0].call(a,b[1],b[2]):b[1]}function k(a){if(a._pico||a.parentNode)throw Error("node already used");this.node=a;"#text"===a.nodeName&&(this.update=this.text);"value"in a&&"LI"!==a.nodeName&&(this.update=this.value);a._pico=this}function n(a){this.l=a;this.g={};this.node=f.c.createComment("^");this.a=f.c.createComment("$");this.node._pico=this}function p(a){this.l=
a;this.g={};this.node=f.c.createComment("^");this.a=f.c.createComment("$");this.node._pico=this;for(var b=0,d=Object.keys(a);b<d.length;++b)this.g[d[b]]=a[d[b]].create(this,d[b])}function r(a){return a.cloneNode(!0)}f.c="undefined"!==typeof document?document:null;g.prototype={constructor:g,create:function(a,b){var d=this.j,c=new this.m(q(f.c,d[0]));a&&(c.root=a.root||a);void 0!==b&&(c.key=b);for(a=1;a<d.length;++a)q(c,d[a]);c.u&&c.u();return c},call:function(a){for(var b=1,d=[a];b<arguments.length;++b)d[b]=
arguments[b];this.j.push(d);return this},b:function(a){if(null!=a)if("function"===typeof a)this.j.push([a]);else if(a.constructor===Object)for(var b=0,d=Object.keys(a);b<d.length;++b)this[d[b]](a[d[b]]);else this.f(a);return this},f:function(a){return function(b,d){var c=this.m.prototype;if("function"!==typeof c[a])throw Error(a+" is not a valid method for this template");c=[c[a]];if(1===arguments.length)c.push(b);else if(2===arguments.length)c.push(b,d);else if(2<arguments.length){c.push([b,d]);
for(var e=2;e<arguments.length;++e)c[1].push(arguments[e])}this.j.push(c);return this}}("append")};var m=k.prototype={constructor:k,root:null,text:function(a){var b=this.node.firstChild;b&&!b.nextSibling?b.nodeValue!==a&&(b.nodeValue=a):this.node.textContent=a;return this},value:function(a){this.node.value!==a&&(this.node.value=a);return this},remove:function(){var a=this.node,b=a.parentNode;b&&(this.f&&this.f(b,null),b.removeChild(a));return this},moveTo:function(a,b){var d=this.node,c=d.parentNode;
b=b||null;if(!a)throw Error("invalid parent node");if(c!==a||b!==d&&b!==d.nextSibling)return this.f&&this.f(this.node.parentNode,a),a.insertBefore(d,b),this},h:function(){this.remove();this.o&&this.o();if(this.b)for(var a=0,b=Object.keys(this.b);a<b.length;++a)this.s(b[a]);this.node=this.g=null},update:function(a,b,d){for(var c=this.node.firstChild;c;){var e=c._pico;e?(e.update&&e.update(a,b,d),c=(e.a||c).nextSibling):c=c.nextSibling}return this},handleEvent:function(a){var b=this.b;(b=b&&b[a.type])&&
b.call(this,a)},s:function(a,b){b?(this.b||(this.b={}),this.b[a]=b,this.node.addEventListener(a,this,!1)):this.b&&this.b[a]&&(delete this.b[a],this.node.removeEventListener(a,this,!1))}};n.prototype={constructor:n,root:null,moveTo:function(a,b){var d=this.a,c=this.node,e=c.parentNode;b=b||null;if(!a)throw Error("invalid parent node");if(e!==a||b!==d&&b!==d.nextSibling)if(this.f&&this.f(e,a),e){do c=(e=c).nextSibling;while(a.insertBefore(e,b)!==d)}else a.insertBefore(c,b),a.insertBefore(d,b);return this},
remove:function(){var a=this.node,b=a.parentNode,d=a.nextSibling;if(b){for(this.f&&this.f(b,null);d!==this.a;){var c=d._pico,d=(c.a||c.node).nextSibling;c.remove()}b.removeChild(this.a);b.removeChild(a)}return this},h:m.h,getKey:function(a,b){return b},update:function(a){var b=this.a,d=b.parentNode||this.moveTo(f.c.createDocumentFragment()).a.parentNode,c=this.node.nextSibling,e=this.g,g=Object.create(null);if(this.node.parentNode!==b.parentNode)throw Error("keyedlist update parent mismatch");for(var l=
0;l<a.length;++l){var h=this.getKey(a[l],l,a);var k=this.l;if(h=g[h]=e[h]||k.create(this,h))h.update&&h.update(a[l],l,a),c=this.i(d,h,c,b).nextSibling}for(this.g=g;c!==this.a;)h=c._pico,c=(h.a||h.node).nextSibling,h.h();return this},i:function(a,b,d,c){d?b.node===d.nextSibling?d._pico.moveTo(a,c):b.node!==d&&b.moveTo(a,d):b.moveTo(a);return b.a||b.node}};m=n.prototype;p.prototype={constructor:p,root:null,moveTo:m.moveTo,remove:m.remove,h:m.h,i:m.i,select:function(){return Object.keys(this.g)},update:function(a,
b,d){var c,e=this.a,g=e.parentNode||this.moveTo(f.c.createDocumentFragment()).a.parentNode,l=this.node.nextSibling,h=this.g,k=this.select(a,b,d);if(this.node.parentNode!==e.parentNode)throw Error("selectlist update parent mismatch");for(var m=0;m<k.length;++m)if(c=h[k[m]])c.update&&c.update(a,b,d),l=this.i(g,c,l,e).nextSibling;for(;l!==this.a;)c=l._pico,l=(c.a||c.node).nextSibling,c.remove();return this}};f.text=function(a,b){for(var d=new g(k,[[f.c.createTextNode,a]]),c=1;c<arguments.length;++c)d.b(arguments[c]);
return d};f.element=function(a,b){for(var d=new g(k,[[f.c.createElement,a]]),c=1;c<arguments.length;++c)d.b(arguments[c]);return d};f.B=function(a,b){for(var d=new g(k,[[f.c.createElementNS,"http://www.w3.org/2000/svg",a]]),c=1;c<arguments.length;++c)d.b(arguments[c]);return d};f.w=function(a,b,d){for(var c=new g(k,[[f.c.createElementNS,a,b]]),e=2;e<arguments.length;++e)c.b(arguments[e]);return c};f.list=function(a,b){for(var d=new g(a.create?n:p,[[null,a]]),c=1;c<arguments.length;++c)d.b(arguments[c]);
return d};f.l=function(a,b){if(!a.cloneNode)throw Error("invalid node");for(var d=new g(k,[[r,a]]),c=1;c<arguments.length;++c)d.b(arguments[c]);return d};f.A=function(a){return f.c=a};f.find=function(a,b,d){a=a.node||a;d=d?d.node||d.a||d:null;for(var c=a._pico;!c||b&&!b(c);){if(a===d)return null;c=a.firstChild;if(!c)for(;!(c=a.nextSibling);)if(a=a.parentNode,null===a)return null;a=c;c=a._pico}return c}})(this.v=this.v||{});

(function(e){function q(a,b){if("object"===typeof a){b=0;for(var c=Object.keys(a);b<c.length;++b)"_"!==c[b][0]&&(this[c[b]]=a[c[b]])}else"_"!==a[0]&&(this[a]=b);return this}function r(a){if(a._pico||a.parentNode)throw Error("node already used");this.node=a;"#text"===a.nodeName&&(this.update=this.text);"value"in a&&(this.update=this.value);a._pico=this.update?this:null}function f(a,b,c){this.u=a;this.o=b;this.s=c}function h(a){this.a=a||[]}function B(a){this.node.appendChild(a.cloneNode(!0))}function C(a){a.create({g:this.g}).moveTo(this.node)}
function D(a){this.node.appendChild(e.b.createTextNode(a))}function y(a){a.call(this,this.node)}function z(){for(var a=0;a<arguments.length;++a){var b=arguments[a];null!=b&&(Array.isArray(b)?z.apply(this,b):this.push(b.create?new f(C,b):b.cloneNode?new f(B,b):new f(D,""+b)))}return this}function k(a,b){this.c(a,b)}function A(a,b,c){c?b===c.nextSibling?a.removeChild(c):b!==c&&a.insertBefore(b,c):a.appendChild(b);return b}function t(a,b){this.a(a,b);b=0;for(var c=Object.keys(a);b<c.length;++b){var d=
c[b],g=a[c[b]];this.i[c[b]]=g.cloneNode?g.cloneNode(!0):g.create({g:this.g,key:d})}}function p(a,b){this.f=a;b&&this.m(b)}function u(a){return a.cloneNode(!0)}function E(a){if(a.cloneNode)return a.cloneNode(!0);if("number"===typeof a||"string"===typeof a)return e.b.createTextNode(""+a);if(a.create)return a.create().node;if(a.node)return a.node.cloneNode(!0);throw Error("invalid node source"+typeof a);}function v(a){if(Array.isArray(a))a=a.map(v);else if(a.constructor===Object){for(var b=F,c={},d=
0,g=Object.keys(a);d<g.length;++d)c=b.call(void 0,c,a[g[d]],g[d],a);a=c}else a=a.create?a:E(a);return a}function F(a,b,c){a[c]=v(b);return a}e.b="undefined"!==typeof document?document:null;var x=r.prototype={constructor:r,g:null,c:q,text:function(a){var b=this.node.firstChild;b&&!b.nextSibling?b.nodeValue!==a&&(b.nodeValue=a):this.node.textContent=a;return this},value:function(a){this.node.value!==a&&(this.node.value=a);return this},moveTo:function(a,b){this.a&&this.a(this.node.parentNode,a);(a.node||
a).insertBefore(this.node,b||null);return this},update:function(a,b,c){for(var d=this.node.firstChild;d;){var g=d._pico;g?(g.update(a,b,c),d=(g.h||d).nextSibling):d=d.nextSibling}},handleEvent:function(a){var b=this.l;(b=b&&b[a.type])&&b.call(this,a)}};f.prototype={call:function(a){return void 0===this.s?this.u.call(a,this.o):this.u.call(a,this.o,this.s)}};h.prototype={constructor:h,create:function(a){var b=this.a,c=new r(b[0].call(e.b));a&&c.c(a);for(a=1;a<b.length;++a)b[a].call(c);return c},call:function(a){return new h(this.a.concat(new f(y,
a)))},c:function(a){if(null!=a)if("function"===typeof a)this.a.push(new f(y,a));else if(a.constructor===Object)for(var b=this.l,c=0,d=Object.keys(a);c<d.length;++c)b.call(this,a[d[c]],d[c],a);else z.call(this.a,a);return this},l:function(a,b){if(!x[b])throw Error("invalid method name: "+b);Array.isArray(a)?this.a.push(new f(x[b],a[0],a[1])):this.a.push(new f(x[b],a))}};k.prototype={constructor:k,g:null,l:q,c:function(a,b){this.f=a;this.i={};this.node=e.b.createComment("^");this.h=e.b.createComment("$");
this.l(b);this.node._pico=this.update?this:null},moveTo:function(a,b){var c=this.h,d=this.node,g=d.parentNode;a=a.node||a;var e=b||null;if(d.parentNode!==c.parentNode)throw Error("list moveTo parent mismatch");this.a&&this.a(g,a);if(e===c||g===a&&e===c.nextSibling)return this;if(g)if(a){do d=(e=d).nextSibling;while(a.insertBefore(e,b)!==c)}else{do d=(e=d).nextSibling;while(g.removeChild(e)!==c)}else a&&(a.insertBefore(d,b),a.insertBefore(c,b));return this},getKey:function(a,b){return b},update:function(a){var b=
this.h,c=b.parentNode||this.moveTo(e.b.createDocumentFragment()).h.parentNode,d=this.node.nextSibling,g=this.i,f=Object.create(null);if(this.node.parentNode!==b.parentNode)throw Error("keyedlist update parent mismatch");for(var h=0;h<a.length;++h){var l=this.getKey(a[h],h,a),m=this.f;if(l=f[l]=g[l]||(m.cloneNode?m.cloneNode(!0):m.create({g:this.g,key:l})))l.update&&l.update(a[h],h,a),d=this.j(c,l,d).nextSibling}this.i=f;if(d!==b)for(;d!==c.removeChild(b.previousSibling););return this},j:function(a,
b,c){if(b.f){if(c){var d=b.node;d===c.nextSibling?a.removeChild(c):d!==c&&b.moveTo(a,c);a=b}else a=b.moveTo(a);a=a.h}else a=b.node?A(a,b.node,c):A(a,b,c);return a}};t.prototype={constructor:t,g:null,a:k.prototype.c,moveTo:k.prototype.moveTo,select:function(){return Object.keys(this.i)},update:function(a,b,c){var d=this.h,g=d.parentNode||this.moveTo(e.b.createDocumentFragment()).h.parentNode,f=this.node.nextSibling,h=this.i,l=this.select(a,b,c);if(this.node.parentNode!==d.parentNode)throw Error("selectlist update parent mismatch");
for(var m=0;m<l.length;++m){var k=h[l[m]];k&&(k.update&&k.update(a,b,c),f=this.j(g,k,f).nextSibling)}if(f!==d)for(;f!==g.removeChild(d.previousSibling););return this},j:k.prototype.j};var n=p.prototype;n.v=function(a){return(new p(this.f,this)).a(a)};n.c=function(a,b){return(new p(this.f,this)).m(a,b)};n.create=function(a){a=a?this.v(a):this;return new (a.f.create||a.f.cloneNode?k:t)(a.f,a)};n.m=q;n.a=function(a){if(null!=a)if("function"===typeof a)a(this);else if(a.constructor===Object)for(var b=
0,c=Object.keys(a);b<c.length;++b){var d=c[b],e=a[d],f=this[d];"function"===typeof f?Array.isArray(e)?f.apply(this,e):f(e):this.m(d,e)}return this};e.text=function(a,b){for(var c=new h([new f(e.b.createTextNode,a)]),d=1;d<arguments.length;++d)c.c(arguments[d]);return c};e.element=function(a,b){for(var c=new h([new f(e.b.createElement,a)]),d=1;d<arguments.length;++d)c.c(arguments[d]);return c};e.C=function(a,b){for(var c=new h([new f(e.b.createElementNS,"http://www.w3.org/2000/svg",a)]),d=1;d<arguments.length;++d)c.c(arguments[d]);
return c};e.A=function(a,b,c){for(var d=new h([new f(e.b.createElementNS,a,b)]),g=2;g<arguments.length;++g)d.c(arguments[g]);return d};e.list=function(a,b){var c=v(a);if(!c)throw Error("invalid list template: "+typeof a);for(var c=new p(c),d=1;d<arguments.length;++d)c.a(arguments[d]);return c};e.D=function(a,b){for(var c=new h([a.cloneNode?new f(u,a):"number"===typeof a?new f(e.b.createTextNode,""+a):"string"===typeof a?new f(e.b.createTextNode,a):a.create?new f(u,a.create().node):a.node?new f(u,
a.node):a]),d=1;d<arguments.length;++d)c.c(arguments[d]);return c};e.B=function(a){return e.b=a};e.find=function(a,b,c){a=a.node||a;c=c?c.node||c.h||c:null;for(var d=a._pico;!d||b&&!b(d);){if(a===c)return null;d=a.firstChild;if(!d)for(;!(d=a.nextSibling);)if(a=a.parentNode,null===a)return null;a=d;d=a._pico}return d}})(this.w=this.w||{});

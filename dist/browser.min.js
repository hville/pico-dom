(function(f){function g(a,b,d){this.b=a;this.a=b;this.g=d}function h(a,b){this.g=a;this.b=b||[]}function r(a){a.call(this,this.node)}function m(a){if(a._pico||a.parentNode)throw Error("node already used");this.node=a;"#text"===a.nodeName&&(this.update=this.text);"value"in a&&"LI"!==a.nodeName&&(this.update=this.value);a._pico=this.update?this:null}function n(a){this.m=a;this.h={};this.node=f.f.createComment("^");this.c=f.f.createComment("$");this.node._pico=this}function q(a){this.m=a;this.h={};this.node=
f.f.createComment("^");this.c=f.f.createComment("$");this.node._pico=this;for(var b=0,d=Object.keys(a);b<d.length;++b)this.h[d[b]]=a[d[b]].create(this,d[b])}function t(a){return a.cloneNode(!0)}f.f="undefined"!==typeof document?document:null;g.prototype.call=function(a){return this.b?void 0===this.g?this.b.call(a,this.a):this.b.call(a,this.a,this.g):this.a};h.prototype={constructor:h,get node(){return this.create().node},create:function(a,b){var d=this.b,c=new this.g(d[0].call(f.f));a&&(c.root=a.root||
a);void 0!==b&&(c.key=b);for(a=1;a<d.length;++a)d[a].call(c);c.v&&c.v();return c},call:function(a){this.b.push(new g(r,a));return this},a:function(a){if(null!=a)if("function"===typeof a)this.b.push(new g(r,a));else if(a.constructor===Object)for(var b=0,d=Object.keys(a);b<d.length;++b){var c=d[b],e=a[d[b]];if(this[c])if(Array.isArray(e))this[c](e[0],e[1]);else this[c](e);else this.set(c,e)}else this.l(a);return this},l:function(){for(var a=this.g.prototype,b=0;b<arguments.length;++b){var d=arguments[b];
null!=d&&(Array.isArray(d)?this.l.apply(this,d):this.b.push(d.create?new g(a.o,d):d.cloneNode?new g(a.l,d):new g(a.s,""+d)))}return this}};m.prototype={constructor:m,root:null,text:function(a){var b=this.node.firstChild;b&&!b.nextSibling?b.nodeValue!==a&&(b.nodeValue=a):this.node.textContent=a;return this},value:function(a){this.node.value!==a&&(this.node.value=a);return this},l:function(a){this.node.appendChild(a.cloneNode(!0))},o:function(a){a.create(this).moveTo(this.node)},s:function(a){this.node.appendChild(f.f.createTextNode(a))},
remove:function(){var a=this.node,b=a.parentNode;b&&(this.b&&this.b(b,null),b.removeChild(a));return this},moveTo:function(a,b){var d=this.node,c=d.parentNode;b=b||null;if(!a)throw Error("invalid parent node");if(c!==a||b!==d&&b!==d.nextSibling)return this.b&&this.b(this.node.parentNode,a),a.insertBefore(d,b),this},j:function(){this.remove();this.g&&this.g();if(this.a)for(var a=0,b=Object.keys(this.a);a<b.length;++a)this.u(b[a]);this.node=this.h=null},update:function(a,b,d){for(var c=this.node.firstChild;c;){var e=
c._pico;e?(e.update&&e.update(a,b,d),c=(e.c||c).nextSibling):c=c.nextSibling}return this},handleEvent:function(a){var b=this.a;(b=b&&b[a.type])&&b.call(this,a)},u:function(a,b){b?(this.a||(this.a={}),this.a[a]=b,this.node.addEventListener(a,this,!1)):this.a&&this.a[a]&&(delete this.a[a],this.node.removeEventListener(a,this,!1))}};n.prototype={constructor:n,root:null,moveTo:function(a,b){var d=this.c,c=this.node,e=c.parentNode;b=b||null;if(!a)throw Error("invalid parent node");if(e!==a||b!==d&&b!==
d.nextSibling)if(this.b&&this.b(e,a),e){do c=(e=c).nextSibling;while(a.insertBefore(e,b)!==d)}else a.insertBefore(c,b),a.insertBefore(d,b);return this},remove:function(){var a=this.node,b=a.parentNode,d=a.nextSibling;if(b){for(this.b&&this.b(b,null);d!==this.c;){var c=d._pico,d=(c.c||c.node).nextSibling;c.remove()}b.removeChild(this.c);b.removeChild(a)}return this},j:function(){this.remove();this.g&&this.g();this.node=this.h=null},getKey:function(a,b){return b},update:function(a){var b=this.c,d=b.parentNode||
this.moveTo(f.f.createDocumentFragment()).c.parentNode,c=this.node.nextSibling,e=this.h,g=Object.create(null);if(this.node.parentNode!==b.parentNode)throw Error("keyedlist update parent mismatch");for(var l=0;l<a.length;++l){var k=this.getKey(a[l],l,a);var h=this.m;if(k=g[k]=e[k]||h.create(this,k))k.update&&k.update(a[l],l,a),c=this.i(d,k,c,b).nextSibling}for(this.h=g;c!==this.c;)k=c._pico,c=(k.c||k.node).nextSibling,k.j();return this},i:function(a,b,d,c){d?b.node===d.nextSibling?d._pico.moveTo(a,
c):b.node!==d&&b.moveTo(a,d):b.moveTo(a);return b.c||b.node}};var p=n.prototype;q.prototype={constructor:q,root:null,moveTo:p.moveTo,remove:p.remove,j:p.j,i:p.i,select:function(){return Object.keys(this.h)},update:function(a,b,d){var c,e=this.c,g=e.parentNode||this.moveTo(f.f.createDocumentFragment()).c.parentNode,l=this.node.nextSibling,k=this.h,h=this.select(a,b,d);if(this.node.parentNode!==e.parentNode)throw Error("selectlist update parent mismatch");for(var m=0;m<h.length;++m)if(c=k[h[m]])c.update&&
c.update(a,b,d),l=this.i(g,c,l,e).nextSibling;for(;l!==this.c;)c=l._pico,l=(c.c||c.node).nextSibling,c.remove();return this}};f.text=function(a,b){for(var d=new h(m,[new g(f.f.createTextNode,a)]),c=1;c<arguments.length;++c)d.a(arguments[c]);return d};f.element=function(a,b){for(var d=new h(m,[new g(f.f.createElement,a)]),c=1;c<arguments.length;++c)d.a(arguments[c]);return d};f.C=function(a,b){for(var d=new h(m,[new g(f.f.createElementNS,"http://www.w3.org/2000/svg",a)]),c=1;c<arguments.length;++c)d.a(arguments[c]);
return d};f.A=function(a,b,d){for(var c=new h(m,[new g(f.f.createElementNS,a,b)]),e=2;e<arguments.length;++e)c.a(arguments[e]);return c};f.list=function(a,b){for(var d=new h(a.create?n:q,[new g(null,a)]),c=1;c<arguments.length;++c)d.a(arguments[c]);return d};f.m=function(a,b){if(!a.cloneNode)throw Error("invalid node");for(var d=new h(m,[new g(t,a)]),c=1;c<arguments.length;++c)d.a(arguments[c]);return d};f.B=function(a){return f.f=a};f.find=function(a,b,d){a=a.node||a;d=d?d.node||d.c||d:null;for(var c=
a._pico;!c||b&&!b(c);){if(a===d)return null;c=a.firstChild;if(!c)for(;!(c=a.nextSibling);)if(a=a.parentNode,null===a)return null;a=c;c=a._pico}return c}})(this.w=this.w||{});

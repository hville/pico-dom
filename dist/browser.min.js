(function(e){function p(a,c){if("object"===typeof a){c=0;for(var b=Object.keys(a);c<b.length;++c)"_"!==b[c][0]&&(this[b[c]]=a[b[c]])}else"_"!==a[0]&&(this[a]=c);return this}function f(a,c,b){this.s=a;this.o=c;this.A=b}function h(a,c){this.h=a;this.m=c||[]}function t(a){a.call(this,this.node)}function u(){for(var a=this.h.prototype,c=0;c<arguments.length;++c){var b=arguments[c];null!=b&&(Array.isArray(b)?u.apply(this,b):this.m.push(b.create?new f(a.i,b):b.cloneNode?new f(a.u,b):new f(a.v,""+b)))}return this}
function m(a){return function(c,b){var d=this.h.prototype;if("function"!==typeof d[a])throw Error(a+" is not a valid method for this template");return this.B(d[a],c,b)}}function k(a){if(a._pico||a.parentNode)throw Error("node already used");this.node=a;"#text"===a.nodeName&&(this.update=this.text);"value"in a&&(this.update=this.value);a._pico=this.update?this:null}function l(a){this.g(a)}function q(a){this.b(a);for(var c=0,b=Object.keys(a);c<b.length;++c){var d=b[c],g=a[b[c]];this.j[b[c]]=g.cloneNode?
g.cloneNode(!0):g.create({f:this.f,key:d})}}function r(a){return a.cloneNode(!0)}function v(a,c,b){if(c.create)a[b]=c;else throw Error("list item must be a template of a collection of templates");return a}e.a="undefined"!==typeof document?document:null;f.prototype.call=function(a){return this.s?void 0===this.A?this.s.call(a,this.o):this.s.call(a,this.o,this.A):this.o};h.prototype={constructor:h,create:function(a){var c=this.m,b=new this.h(c[0].call(e.a));a&&b.assign(a);for(a=1;a<c.length;++a)c[a].call(b);
return b},assign:m("assign"),u:m("_childNode"),i:m("_childTemplate"),v:m("_childText"),call:function(a){return this.B(t,a)},g:function(a,c,b){this.m.push(new f(a,c,b));return this},B:function(a,c,b){return new h(this.h,this.m.concat(new f(a,c,b)))},b:function(a){if(null!=a)if("function"===typeof a)this.g(t,a);else if(a.constructor===Object)for(var c=this.C,b=0,d=Object.keys(a);b<d.length;++b)c.call(this,a[d[b]],d[b],a);else u.call(this,a);return this},C:function(a,c){var b=this.h.prototype;if(!b[c])throw Error("invalid method name: "+
c);Array.isArray(a)?this.g(b[c],a[0],a[1]):this.g(b[c],a)}};k.prototype={constructor:k,f:null,assign:p,text:function(a){var c=this.node.firstChild;c&&!c.nextSibling?c.nodeValue!==a&&(c.nodeValue=a):this.node.textContent=a;return this},value:function(a){this.node.value!==a&&(this.node.value=a);return this},u:function(a){this.node.appendChild(a.cloneNode(!0))},i:function(a){a.create({f:this.f}).moveTo(this.node)},v:function(a){this.node.appendChild(e.a.createTextNode(a))},moveTo:function(a,c){this.b&&
this.b(this.node.parentNode,a);(a.node||a).insertBefore(this.node,c||null);return this},update:function(a,c,b){for(var d=this.node.firstChild;d;){var g=d._pico;g?(g.update(a,c,b),d=(g.c||d).nextSibling):d=d.nextSibling}},handleEvent:function(a){var c=this.g;(c=c&&c[a.type])&&c.call(this,a)}};l.prototype={constructor:l,f:null,assign:p,g:function(a){this.w=a;this.j={};this.node=e.a.createComment("^");this.c=e.a.createComment("$");this.node._pico=this.update?this:null},moveTo:function(a,c){var b=this.c,
d=this.node,g=d.parentNode;a=a.node||a;var e=c||null;if(d.parentNode!==b.parentNode)throw Error("list moveTo parent mismatch");this.b&&this.b(g,a);if(e===b||g===a&&e===b.nextSibling)return this;if(g)if(a){do d=(e=d).nextSibling;while(a.insertBefore(e,c)!==b)}else{do d=(e=d).nextSibling;while(g.removeChild(e)!==b)}else a&&(a.insertBefore(d,c),a.insertBefore(b,c));return this},getKey:function(a,c){return c},update:function(a){var c=this.c,b=c.parentNode||this.moveTo(e.a.createDocumentFragment()).c.parentNode,
d=this.node.nextSibling,g=this.j,f=Object.create(null);if(this.node.parentNode!==c.parentNode)throw Error("keyedlist update parent mismatch");for(var h=0;h<a.length;++h){var n=this.getKey(a[h],h,a),k=this.w;if(n=f[n]=g[n]||(k.cloneNode?k.cloneNode(!0):k.create({f:this.f,key:n})))n.update&&n.update(a[h],h,a),d=this.l(b,n,d).nextSibling}this.j=f;if(d!==c)for(;d!==b.removeChild(c.previousSibling););return this},i:function(a){this.w=a;return this},l:function(a,c,b){if(c.c){if(!b)return c.moveTo(a);var d=
c.node;d===b.nextSibling?a.removeChild(b):d!==b&&c.moveTo(a,b);return c.c}c=c.node||c;b?c===b.nextSibling?a.removeChild(b):c!==b&&a.insertBefore(c,b):a.appendChild(c);return c}};q.prototype={constructor:q,f:null,assign:p,b:l.prototype.g,moveTo:l.prototype.moveTo,select:function(){return Object.keys(this.j)},update:function(a,c,b){var d=this.c,g=d.parentNode||this.moveTo(e.a.createDocumentFragment()).c.parentNode,f=this.node.nextSibling,h=this.j,k=this.select(a,c,b);if(this.node.parentNode!==d.parentNode)throw Error("selectlist update parent mismatch");
for(var l=0;l<k.length;++l){var m=h[k[l]];m&&(m.update&&m.update(a,c,b),f=this.l(g,m,f).nextSibling)}if(f!==d)for(;f!==g.removeChild(d.previousSibling););return this},l:l.prototype.l,i:l.prototype.i};e.text=function(a,c){for(var b=new h(k,[new f(e.a.createTextNode,a)]),d=1;d<arguments.length;++d)b.b(arguments[d]);return b};e.element=function(a,c){for(var b=new h(k,[new f(e.a.createElement,a)]),d=1;d<arguments.length;++d)b.b(arguments[d]);return b};e.H=function(a,c){for(var b=new h(k,[new f(e.a.createElementNS,
"http://www.w3.org/2000/svg",a)]),d=1;d<arguments.length;++d)b.b(arguments[d]);return b};e.F=function(a,c,b){for(var d=new h(k,[new f(e.a.createElementNS,a,c)]),g=2;g<arguments.length;++g)d.b(arguments[g]);return d};e.list=function(a,c){if(a.create)var b=new h(l,[new f(null,a)]);else{b={};for(var d=0,e=Object.keys(a);d<e.length;++d)b=v.call(void 0,b,a[e[d]],e[d]);b=new h(q,[new f(null,b)])}for(d=1;d<arguments.length;++d)b.b(arguments[d]);return b};e.I=function(a,c){for(var b=new h(k,[a.cloneNode?
new f(r,a):"number"===typeof a?new f(e.a.createTextNode,""+a):"string"===typeof a?new f(e.a.createTextNode,a):a.create?new f(r,a.create().node):a.node?new f(r,a.node):a]),d=1;d<arguments.length;++d)b.b(arguments[d]);return b};e.G=function(a){return e.a=a};e.find=function(a,c,b){a=a.node||a;b=b?b.node||b.c||b:null;for(var d=a._pico;!d||c&&!c(d);){if(a===b)return null;d=a.firstChild;if(!d)for(;!(d=a.nextSibling);)if(a=a.parentNode,null===a)return null;a=d;d=a._pico}return d}})(this.D=this.D||{});

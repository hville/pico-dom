(function(f){function g(a,b,c){this.f=a;this.a=b;this.j=c}function h(a,b){this.m=a;this.l=b||[]}function q(a){a.call(this,this.node)}function n(a,b){this[a]=b;return this}function k(a){if(a._pico||a.parentNode)throw Error("node already used");this.node=a;"#text"===a.nodeName&&(this.update=this.text);"value"in a&&"LI"!==a.nodeName&&(this.update=this.value);a._pico=this.update?this:null}function l(a){this.o=a;this.g={};this.node=f.b.createComment("^");this.c=f.b.createComment("$");this.node._pico=this}
function p(a){this.o=a;this.g={};this.node=f.b.createComment("^");this.c=f.b.createComment("$");this.node._pico=this;for(var b=0,c=Object.keys(a);b<c.length;++b){var d=c[b];this.g[c[b]]=a[c[b]].create(this).set("key",d)}}function r(a){return a.cloneNode(!0)}f.b="undefined"!==typeof document?document:null;g.prototype.call=function(a){return this.f?void 0===this.j?this.f.call(a,this.a):this.f.call(a,this.a,this.j):this.a};h.prototype={constructor:h,create:function(a){var b=this.l,c=new this.m(b[0].call(f.b));
a&&(c.root=a.root||a);for(a=1;a<b.length;++a)b[a].call(c);return c},set:function(a){return function(b,c){var d=this.m.prototype;if("function"!==typeof d[a])throw Error(a+" is not a valid method for this template");this.l.push(new g(d[a],b,c));return this}}("set"),a:function(a){if(null!=a)if("function"===typeof a)this.l.push(new g(q,a));else if(a.constructor===Object)for(var b=0,c=Object.keys(a);b<c.length;++b){var d=c[b],e=a[c[b]];if(!this[d])throw Error("invalid method name: "+d);if(Array.isArray(e))this[d](e[0],
e[1]);else this[d](e)}else this.f(a);return this},f:function(){for(var a=this.m.prototype,b=0;b<arguments.length;++b){var c=arguments[b];null!=c&&(Array.isArray(c)?this.f.apply(this,c):this.l.push(c.create?new g(a.j,c):c.cloneNode?new g(a.f,c):new g(a.s,""+c)))}return this}};k.prototype={constructor:k,root:null,set:n,text:function(a){var b=this.node.firstChild;b&&!b.nextSibling?b.nodeValue!==a&&(b.nodeValue=a):this.node.textContent=a;return this},value:function(a){this.node.value!==a&&(this.node.value=
a);return this},f:function(a){this.node.appendChild(a.cloneNode(!0))},j:function(a){a.create(this).moveTo(this.node)},s:function(a){this.node.appendChild(f.b.createTextNode(a))},remove:function(){var a=this.node,b=a.parentNode;b&&(this.a&&this.a(b,null),b.removeChild(a));return this},moveTo:function(a,b){var c=this.node,d=c.parentNode;b=b||null;if(!a)throw Error("parent node or component must be specified");if(d!==a||b!==c&&b!==c.nextSibling)return this.a&&this.a(this.node.parentNode,a),a.insertBefore(c,
b),this},update:function(a,b,c){for(var d=this.node.firstChild;d;){var e=d._pico;e?(e.update&&e.update(a,b,c),d=(e.c||d).nextSibling):d=d.nextSibling}},handleEvent:function(a){var b=this.w;(b=b&&b[a.type])&&b.call(this,a)}};l.prototype={constructor:l,root:null,set:n,moveTo:function(a,b){var c=this.c,d=this.node,e=d.parentNode;b=b||null;if(d.parentNode!==c.parentNode)throw Error("list moveTo parent mismatch");if(!a)throw Error("parent node or component must be specified");if(e!==a||b!==c&&b!==c.nextSibling)if(this.a&&
this.a(e,a),e){do d=(e=d).nextSibling;while(a.insertBefore(e,b)!==c)}else a.insertBefore(d,b),a.insertBefore(c,b);return this},remove:function(){var a=this.c,b=this.node,c=b.parentNode;if(b.parentNode!==a.parentNode)throw Error("list moveTo parent mismatch");if(c){this.a&&this.a(c,null);var d;do b=(d=b).nextSibling;while(c.removeChild(d)!==a)}return this},getKey:function(a,b){return b},update:function(a){var b=this.c,c=b.parentNode||this.moveTo(f.b.createDocumentFragment()).c.parentNode,d=this.node.nextSibling,
e=this.g,g=Object.create(null);if(this.node.parentNode!==b.parentNode)throw Error("keyedlist update parent mismatch");for(var h=0;h<a.length;++h){var m=this.getKey(a[h],h,a),k=this.o;if(m=g[m]=e[m]||k.create(this).set("key",m))m.update&&m.update(a[h],h,a),d=this.i(c,m,d,b).nextSibling}this.g=g;this.h(d);return this},i:function(a,b,c,d){c?b.node===c.nextSibling?c._pico.moveTo(a,d):b.node!==c&&b.moveTo(a,c):b.moveTo(a);return b.c||b.node},h:function(a){for(;a!==this.c;){var b=a._pico;a=(b.c||b.node).nextSibling;
b.remove()}}};p.prototype={constructor:p,root:null,set:n,moveTo:l.prototype.moveTo,remove:l.prototype.remove,select:function(){return Object.keys(this.g)},update:function(a,b,c){var d=this.c,e=d.parentNode||this.moveTo(f.b.createDocumentFragment()).c.parentNode,g=this.node.nextSibling,h=this.g,m=this.select(a,b,c);if(this.node.parentNode!==d.parentNode)throw Error("selectlist update parent mismatch");for(var k=0;k<m.length;++k){var l=h[m[k]];l&&(l.update&&l.update(a,b,c),g=this.i(e,l,g,d).nextSibling)}this.h(g);
return this},i:l.prototype.i,h:l.prototype.h};f.text=function(a,b){for(var c=new h(k,[new g(f.b.createTextNode,a)]),d=1;d<arguments.length;++d)c.a(arguments[d]);return c};f.element=function(a,b){for(var c=new h(k,[new g(f.b.createElement,a)]),d=1;d<arguments.length;++d)c.a(arguments[d]);return c};f.B=function(a,b){for(var c=new h(k,[new g(f.b.createElementNS,"http://www.w3.org/2000/svg",a)]),d=1;d<arguments.length;++d)c.a(arguments[d]);return c};f.v=function(a,b,c){for(var d=new h(k,[new g(f.b.createElementNS,
a,b)]),e=2;e<arguments.length;++e)d.a(arguments[e]);return d};f.list=function(a,b){for(var c=new h(a.create?l:p,[new g(null,a)]),d=1;d<arguments.length;++d)c.a(arguments[d]);return c};f.o=function(a,b){if(!a.cloneNode)throw Error("invalid node");for(var c=new h(k,[new g(r,a)]),d=1;d<arguments.length;++d)c.a(arguments[d]);return c};f.A=function(a){return f.b=a};f.find=function(a,b,c){a=a.node||a;c=c?c.node||c.c||c:null;for(var d=a._pico;!d||b&&!b(d);){if(a===c)return null;d=a.firstChild;if(!d)for(;!(d=
a.nextSibling);)if(a=a.parentNode,null===a)return null;a=d;d=a._pico}return d}})(this.u=this.u||{});

(function(e){function p(a,b){if("object"===typeof a){b=0;for(var c=Object.keys(a);b<c.length;++b)"_"!==c[b][0]&&(this[c[b]]=a[c[b]])}else"_"!==a[0]&&(this[a]=b);return this}function q(a,b){if(a._pico||a.parentNode)throw Error("node already used");this.node=a;"#text"===a.nodeName&&(this.update=this.text);"value"in a&&(this.update=this.value);for(var c=0;c<b.length;++c){var d=b[c];Array.isArray(d.b)?d.f.apply(this,d.b):d.f.call(this,d.b)}a._pico=this.update?this:null}function h(a,b){this.node=a;this.h=
b||[]}function l(a,b){this.g=a;this.l={};this.head=e.c.createComment("^");this.i=e.c.createComment("$");this.assign(b);this.head._pico=this.update?this:null}function u(a,b,c){c?b===c.nextSibling?a.removeChild(c):b!==c&&a.insertBefore(b,c):a.appendChild(b);return b}function v(a,b){l.call(this,a,b)}function w(a,b){l.call(this,a,b);b=0;for(var c=Object.keys(a);b<c.length;++b)this.l[c[b]]=this.v(a[c[b]],c[b])}function n(a,b){this.g=a;b&&this.j(b)}function r(a){if(a.cloneNode)return a.cloneNode(!0);if("number"===
typeof a||"string"===typeof a)return e.c.createTextNode(""+a);if(a.create)return a.create().node;if(a.node)return a.node.cloneNode(!0);throw Error("invalid node source"+typeof a);}function t(a){if(Array.isArray(a))a=a.map(t);else if(a.constructor===Object){for(var b=x,c={},d=0,f=Object.keys(a);d<f.length;++d)c=b.call(void 0,c,a[f[d]],f[d],a);a=c}else a=a.create?a:r(a);return a}function x(a,b,c){a[c]=t(b);return a}e.c="undefined"!==typeof document?document:null;var k=q.prototype={constructor:q,m:null,
call:function(a){a(this);return this},assign:p,text:function(a){var b=this.node.firstChild;b&&!b.nextSibling?b.nodeValue!==a&&(b.nodeValue=a):this.node.textContent=a;return this},value:function(a){this.node.value!==a&&(this.node.value=a);return this},a:function(){for(var a=0;a<arguments.length;++a){var b=arguments[a];null!=b&&(Array.isArray(b)?this.a.apply(this,b):b.create?b.s({m:this.m}).create().moveTo(this.node):b.moveTo?b.moveTo(this.node):this.node.appendChild(r(b)))}return this},moveTo:function(a,
b){this.u&&this.u(this.node.parentNode,a);(a.node||a).insertBefore(this.node,b||null);return this},update:function(a,b,c){for(var d=this.node.firstChild;d;){var f=d._pico;f?(f.update(a,b,c),d=(f.i||d).nextSibling):d=d.nextSibling}},handleEvent:function(a){var b=this.B;(b=b&&b[a.type])&&b.call(this,a)}};h.prototype={constructor:h,o:function(a){return(new h(this.node,this.h.slice())).a(a)},assign:function(a,b){return new h(this.node,this.h.concat({f:k.assign,b:void 0===b?a:[a,b]}))},s:function(a,b){return new h(this.node,
Array.prototype.concat({f:k.assign,b:void 0===b?a:[a,b]},this.h))},create:function(a){return new q(this.node.cloneNode(!0),(a?this.o(a):this).h)},a:function(a){if(null!=a)if("function"===typeof a)this.h.push({f:k.call,b:a});else if(a.constructor===Object)for(var b=this.B,c=0,d=Object.keys(a);c<d.length;++c)b.call(this,a[d[c]],d[c],a);else this.h.push({f:k.a,b:a});return this},B:function(a,b,c){var d=this.h;"u"===b[0]&&"p"===b[1]||"function"!==typeof k[b]?"defaults"===b?d.unshift({f:k.assign,b:a}):
"common"===b?d.unshift({f:k.assign,b:c}):d.push({f:k.assign,b:[b,a]}):d.push({f:k[b],b:a});return d}};l.prototype={constructor:l,m:null,assign:p,moveTo:function(a,b){var c=this.i,d=this.head,f=d.parentNode;a=a.node||a;var g=b||null;this.u&&this.u(f,a);if(g===c||f===a&&g===c.nextSibling)return this;if(f)if(a){do d=(g=d).nextSibling;while(a.insertBefore(g,b)!==c)}else{do d=(g=d).nextSibling;while(f.removeChild(g)!==c)}else a&&(a.insertBefore(d,b),a.insertBefore(c,b));return this},update:function(a,
b,c){var d=this.i,f=d.parentNode||this.moveTo(e.c.createDocumentFragment()).i.parentNode;for(a=this.A(a,b,c);a!==d;)b=a.nextSibling,f.removeChild(a),a=b;return this},w:function(a,b,c){if(b.node)a=u(a,b.node,c);else if(b.head){if(c){var d=b.head;d===c.nextSibling?a.removeChild(c):d!==c&&b.moveTo(a,c);a=b}else a=b.moveTo(a);a=a.i}else a=u(a,b,c);return a},v:function(a,b){return a.cloneNode?a.cloneNode(!0):a.s({m:this.m,key:b}).create()}};v.prototype=Object.create(l.prototype,{getKey:{value:function(a,
b){return b},writable:!0},A:{value:function(a){for(var b=this.head.nextSibling,c=b.parentNode,d=this.l,f={},g=0;g<a.length;++g){var e=this.getKey(a[g],g,a);if(e=f[e]=d[e]||this.v(this.g,e))e.update&&e.update(a[g],g,a),b=this.w(c,e,b).nextSibling}this.l=f;return b}}});w.prototype=Object.create(l.prototype,{select:{value:function(){return Object.keys(this.l)},writable:!0},A:{value:function(a,b,c){for(var d=this.head.nextSibling,f=d.parentNode,e=this.l,h=this.select(a,b,c),k=0;k<h.length;++k){var l=
e[h[k]];l&&(l.update&&l.update(a,b,c),d=this.w(f,l,d).nextSibling)}return d}}});var m=n.prototype;m.o=function(a){return(new n(this.g,this)).a(a)};m.assign=function(a,b){return(new n(this.g,this)).j(a,b)};m.s=function(a,b){return new n(this.g,this.j.call(void 0===b?this.j.call({},a):{key:b},this))};m.create=function(a){a=a?this.o(a):this;return new (a.g.create||a.g.cloneNode?v:w)(a.g,a)};m.j=p;m.a=function(a){if(null!=a)if("function"===typeof a)a(this);else if(a.constructor===Object)for(var b=0,c=
Object.keys(a);b<c.length;++b){var d=c[b],e=a[d],g=this[d];"function"===typeof g?Array.isArray(e)?g.apply(this,e):g(e):this.j(d,e)}return this};e.text=function(a,b){for(var c=new h(e.c.createTextNode(a)),d=1;d<arguments.length;++d)c.a(arguments[d]);return c};e.element=function(a,b){for(var c=new h(e.c.createElement(a)),d=1;d<arguments.length;++d)c.a(arguments[d]);return c};e.G=function(a,b){for(var c=new h(e.c.createElementNS("http://www.w3.org/2000/svg",a)),d=1;d<arguments.length;++d)c.a(arguments[d]);
return c};e.D=function(a,b,c){for(var d=new h(e.c.createElementNS(a,b)),f=2;f<arguments.length;++f)d.a(arguments[f]);return d};e.list=function(a,b){var c=t(a);if(!c)throw Error("invalid list template: "+typeof a);for(var c=new n(c),d=1;d<arguments.length;++d)c.a(arguments[d]);return c};e.H=function(a,b){for(var c=new h(r(a)),d=1;d<arguments.length;++d)c.a(arguments[d]);return c};e.F=function(a){return e.c=a};e.find=function(a,b,c){a=a.node||a.head||a;c=c?c.node||c.i||c:null;for(var d=a._pico;!d||
b&&!b(d);){if(a===c)return null;d=a.firstChild;if(!d)for(;!(d=a.nextSibling);)if(a=a.parentNode,null===a)return null;a=d;d=a._pico}return d}})(this.C=this.C||{});

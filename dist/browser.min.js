(function(e){function f(a,b,c){this.m=a;this.l=b;this.A=c}function g(a,b){this.g=a;this.b=b||[]}function t(a){a.call(this,this.node)}function h(a){return function(b,c){var d=this.g.prototype;if("function"!==typeof d[a])throw Error(a+" is not a valid method for this template");this.b.push(new f(d[a],b,c));return this}}function u(a,b,c){this.C(a,b,c);this.update=null;return this}function q(a,b){if("object"===typeof a){b=0;for(var c=Object.keys(a);b<c.length;++b)"_"!==c[b][0]&&(this[c[b]]=a[c[b]])}else"_"!==
a[0]&&(this[a]=b);return this}function k(a){if(a._pico||a.parentNode)throw Error("node already used");this.node=a;"#text"===a.nodeName&&(this.update=this.text);"value"in a&&(this.update=this.value);a._pico=this.update?this:null}function m(a){this.s=a;this.i={};this.node=e.a.createComment("^");this.f=e.a.createComment("$");this.node._pico=this}function r(a){this.s=a;this.i={};this.node=e.a.createComment("^");this.f=e.a.createComment("$");this.node._pico=this;for(var b=0,c=Object.keys(a);b<c.length;++b)this.i[c[b]]=
a[c[b]].create({h:this.h,key:c[b]})}function v(a){return a.cloneNode(!0)}e.a="undefined"!==typeof document?document:null;f.prototype.call=function(a){return this.m?void 0===this.A?this.m.call(a,this.l):this.m.call(a,this.l,this.A):this.l};g.prototype={constructor:g,create:function(a){var b=this.b,c=new this.g(b[0].call(e.a));a&&c.assign(a);for(a=1;a<b.length;++a)b[a].call(c);return c},update:function(a){this.b.push(new f(this.g.prototype.assign,"update",a));return this},C:function(a){this.b.push(new f(this.g.prototype.assign,
"updateOnce",a));this.b.push(new f(this.g.prototype.assign,"update",u));return this},select:function(a){this.b.push(new f(this.g.prototype.assign,"select",a));return this},getKey:function(a){this.b.push(new f(this.g.prototype.assign,"getKey",a));return this},assign:h("assign"),u:h("_childNode"),v:h("_childTemplate"),w:h("_childText"),c:function(a){if(null!=a)if("function"===typeof a)this.b.push(new f(t,a));else if(a.constructor===Object)for(var b=0,c=Object.keys(a);b<c.length;++b){var d=c[b],p=a[c[b]],
e=this.g.prototype[d];if(!e)throw Error("invalid method name: "+d);Array.isArray(p)?this.b.push(new f(e,p[0],p[1])):this.b.push(new f(e,p))}else this.o(a);return this},o:function(){for(var a=this.g.prototype,b=0;b<arguments.length;++b){var c=arguments[b];null!=c&&(Array.isArray(c)?this.o.apply(this,c):this.b.push(c.create?new f(a.v,c):c.cloneNode?new f(a.u,c):new f(a.w,""+c)))}return this}};k.prototype={constructor:k,h:null,assign:q,text:function(a){var b=this.node.firstChild;b&&!b.nextSibling?b.nodeValue!==
a&&(b.nodeValue=a):this.node.textContent=a;return this},value:function(a){this.node.value!==a&&(this.node.value=a);return this},u:function(a){this.node.appendChild(a.cloneNode(!0))},v:function(a){a.create({h:this.h}).moveTo(this.node)},w:function(a){this.node.appendChild(e.a.createTextNode(a))},moveTo:function(a,b){this.c&&this.c(this.node.parentNode,a);(a.node||a).insertBefore(this.node,b||null);return this},update:function(a,b,c){for(var d=this.node.firstChild;d;){var e=d._pico;e?(e.update&&e.update(a,
b,c),d=(e.f||d).nextSibling):d=d.nextSibling}},handleEvent:function(a){var b=this.o;(b=b&&b[a.type])&&b.call(this,a)}};m.prototype={constructor:m,h:null,assign:q,moveTo:function(a,b){var c=this.f,d=this.node,e=d.parentNode;a=a.node||a;var f=b||null;if(d.parentNode!==c.parentNode)throw Error("list moveTo parent mismatch");this.c&&this.c(e,a);if(f===c||e===a&&f===c.nextSibling)return this;if(e)if(a){do d=(f=d).nextSibling;while(a.insertBefore(f,b)!==c)}else{do d=(f=d).nextSibling;while(e.removeChild(f)!==
c)}else a&&(a.insertBefore(d,b),a.insertBefore(c,b));return this},getKey:function(a,b){return b},update:function(a){var b=this.f,c=b.parentNode||this.moveTo(e.a.createDocumentFragment()).f.parentNode,d=this.node.nextSibling,f=this.i,g=Object.create(null);if(this.node.parentNode!==b.parentNode)throw Error("keyedlist update parent mismatch");for(var n=0;n<a.length;++n){var l=this.getKey(a[n],n,a),k=this.s;if(l=g[l]=f[l]||k.create({h:this.h,key:l}))l.update&&l.update(a[n],n,a),d=this.j(c,l,d).nextSibling}this.i=
g;if(d!==b)for(;d!==c.removeChild(b.previousSibling););return this},j:function(a,b,c){if(b.f){if(!c)return b.moveTo(a);var d=b.node;d===c.nextSibling?a.removeChild(c):d!==c&&b.moveTo(a,c);return b.f}b=b.node||b;c?b===c.nextSibling?a.removeChild(c):b!==c&&a.insertBefore(b,c):a.appendChild(b);return b}};r.prototype={constructor:r,h:null,assign:q,moveTo:m.prototype.moveTo,select:function(){return Object.keys(this.i)},update:function(a,b,c){var d=this.f,f=d.parentNode||this.moveTo(e.a.createDocumentFragment()).f.parentNode,
g=this.node.nextSibling,k=this.i,l=this.select(a,b,c);if(this.node.parentNode!==d.parentNode)throw Error("selectlist update parent mismatch");for(var m=0;m<l.length;++m){var h=k[l[m]];h&&(h.update&&h.update(a,b,c),g=this.j(f,h,g).nextSibling)}if(g!==d)for(;g!==f.removeChild(d.previousSibling););return this},j:m.prototype.j};e.text=function(a,b){for(var c=new g(k,[new f(e.a.createTextNode,a)]),d=1;d<arguments.length;++d)c.c(arguments[d]);return c};e.element=function(a,b){for(var c=new g(k,[new f(e.a.createElement,
a)]),d=1;d<arguments.length;++d)c.c(arguments[d]);return c};e.G=function(a,b){for(var c=new g(k,[new f(e.a.createElementNS,"http://www.w3.org/2000/svg",a)]),d=1;d<arguments.length;++d)c.c(arguments[d]);return c};e.D=function(a,b,c){for(var d=new g(k,[new f(e.a.createElementNS,a,b)]),h=2;h<arguments.length;++h)d.c(arguments[h]);return d};e.list=function(a,b){for(var c=new g(a.create?m:r,[new f(null,a)]),d=1;d<arguments.length;++d)c.c(arguments[d]);return c};e.s=function(a,b){if(!a.cloneNode)throw Error("invalid node");
for(var c=new g(k,[new f(v,a)]),d=1;d<arguments.length;++d)c.c(arguments[d]);return c};e.F=function(a){return e.a=a};e.find=function(a,b,c){a=a.node||a;c=c?c.node||c.f||c:null;for(var d=a._pico;!d||b&&!b(d);){if(a===c)return null;d=a.firstChild;if(!d)for(;!(d=a.nextSibling);)if(a=a.parentNode,null===a)return null;a=d;d=a._pico}return d}})(this.B=this.B||{});

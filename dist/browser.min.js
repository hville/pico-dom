(function(e){function f(a,b){this.h=a;this.i=b||[]}function h(a){if(a._pico||a.parentNode)throw Error("node already used");this.node=a;"#text"===a.nodeName&&(this.update=this.text);"value"in a&&"LI"!==a.nodeName&&(this.update=this.value);a._pico=this}function m(a){this.s=a;this.j={};this.node=e.g.createComment("^");this.b=e.g.createComment("$");this.node._pico=this;if(!a.create){this.update=this.a=p;for(var b=0,d=Object.keys(a);b<d.length;++b){var c=d[b];this.j[c]=a[c].create(this,c)}}}function n(a){var b=
this.b,d=b.parentNode||this.moveTo(e.g.createDocumentFragment()).b.parentNode,c=this.node.nextSibling,l=this.j,f=Object.create(null);if(this.node.parentNode!==b.parentNode)throw Error("keyedlist update parent mismatch");for(var k=0;k<a.length;++k){var g=this.getKey(a[k],k,a);var h=this.s;if(g=f[g]=l[g]||h.create(this,g))g.update&&g.update(a[k],k,a),c=this.o(d,g,c,b).nextSibling}for(this.j=f;c!==this.b;)g=c._pico,c=(g.b||g.node).nextSibling,g.m();return this}function p(a,b,d){var c,l=this.b,f=l.parentNode||
this.moveTo(e.g.createDocumentFragment()).b.parentNode,k=this.node.nextSibling,g=this.j,h=this.select(a,b,d);if(this.node.parentNode!==l.parentNode)throw Error("selectlist update parent mismatch");for(var m=0;m<h.length;++m)if(c=g[h[m]])c.update&&c.update(a,b,d),k=this.o(f,c,k,l).nextSibling;for(;k!==this.b;)c=k._pico,k=(c.b||c.node).nextSibling,c.remove();return this}function q(a){return a}function r(a){return a.cloneNode(!0)}e.g="undefined"!==typeof document?document:null;f.prototype={constructor:f,
create:function(a,b){var d=this.i,c=new this.h(d[0].f.apply(e.g,d[0].c));a&&(c.root=a.root||a);void 0!==b&&(c.key=b);for(a=1;a<d.length;++a)d[a].f.apply(c,d[a].c);return c},call:function(a){for(var b=1,d=[];b<arguments.length;++b)d[b-1]=arguments[b];return new f(this.h,this.i.concat({f:a,c:d}))},l:function(a,b){var d=this.h.prototype[a];if("function"!==typeof d)throw Error(a+"s is not a valid template method");a=0;for(var c=Object.keys(b);a<c.length;++a)this.i.push({f:d,c:[c[a],b[c[a]]]});return this},
a:function(a){if(null!=a)if("function"===typeof a)this.i.push({f:a,c:[]});else if(a.constructor===Object)for(var b=0,d=Object.keys(a);b<d.length;++b){var c=d[b];if(!this[c])throw Error(c+" is not a template method");"s"===c[c.length-1]&&a[c].constructor===Object?this.l(c.slice(0,-1),a[c]):this.i.push({f:this.h.prototype[c],c:[a[c]]})}else this.i.push({f:this.h.prototype.append,c:[a]});return this},append:function(a){return function(){var b=this.h.prototype[a];if("function"!==typeof b)throw Error(a+
" is not a valid template method");for(var d=[],c=0;c<arguments.length;++c)d[c]=arguments[c];return new f(this.h,this.i.concat({f:b,c:d}))}}("append")};var t=h.prototype={constructor:h,root:null,a:null,text:function(a){var b=this.node.firstChild;b&&!b.nextSibling?b.nodeValue!==a&&(b.nodeValue=a):this.node.textContent=a;return this},value:function(a){this.node.value!==a&&(this.node.value=a);return this},append:function(){for(var a=this.node,b=0;b<arguments.length;++b){var d=arguments[b];null!=d&&(Array.isArray(d)?
this.append.apply(this,d):d.create?d.create(this).moveTo(a):d.moveTo?d.moveTo(a):a.appendChild(d.cloneNode?d.cloneNode(!0):e.g.createTextNode(""+d)))}return this},moveTo:function(a,b){var d=this.node;b=b||null;if(!a)throw Error("invalid parent node");(d.parentNode!==a||b!==d&&b!==d.nextSibling)&&a.insertBefore(d,b);return this},remove:function(){var a=this.node,b=a.parentNode;b&&b.removeChild(a);return this},m:function(){if(this.u&&this.u())return this;this.remove();if(this.a)for(var a=0,b=Object.keys(this.a);a<
b.length;++a)this.l(b[a],!1);this.node=this.j=null},update:function(a,b,d){for(var c=this.node.firstChild;c;){var e=c._pico;e?(e.update&&e.update(a,b,d),c=(e.b||c).nextSibling):c=c.nextSibling}return this},handleEvent:function(a){var b=this.a;(b=b&&b[a.type])&&b.call(this,a)},l:function(a,b){b?(this.a||(this.a={}),this.a[a]=b,this.node.addEventListener(a,this,!1)):this.a&&this.a[a]&&(delete this.a[a],this.node.removeEventListener(a,this,!1))}};m.prototype={constructor:m,root:null,moveTo:function(a,
b){var d=this.b,c=this.node,e=c.parentNode;b=b||null;if(!a)throw Error("invalid parent node");if(e!==a||b!==d&&b!==d.nextSibling)if(e){do c=(e=c).nextSibling;while(a.insertBefore(e,b)!==d)}else a.insertBefore(c,b),a.insertBefore(d,b);return this},remove:function(){var a=this.node,b=a.parentNode,d=a.nextSibling;if(b){for(;d!==this.b;){var c=d._pico,d=(c.b||c.node).nextSibling;c.remove()}b.removeChild(this.b);b.removeChild(a)}return this},m:t.m,update:n,a:n,o:function(a,b,d,c){d?b.node===d.nextSibling?
d._pico.moveTo(a,c):b.node!==d&&b.moveTo(a,d):b.moveTo(a);return b.b||b.node},getKey:function(a,b){return b},select:function(){return Object.keys(this.j)}};e.text=function(a,b){for(var d=new f(h,[{f:e.g.createTextNode,c:[a]}]),c=1;c<arguments.length;++c)d.a(arguments[c]);return d};e.element=function(a,b){for(var d=new f(h,[{f:e.g.createElement,c:[a]}]),c=1;c<arguments.length;++c)d.a(arguments[c]);return d};e.B=function(a,b){for(var d=new f(h,[{f:e.g.createElementNS,c:["http://www.w3.org/2000/svg",
a]}]),c=1;c<arguments.length;++c)d.a(arguments[c]);return d};e.w=function(a,b,d){for(var c=new f(h,[{f:e.g.createElementNS,c:[a,b]}]),l=2;l<arguments.length;++l)c.a(arguments[l]);return c};e.list=function(a,b){for(var d=new f(m,[{f:q,c:[a]}]),c=1;c<arguments.length;++c)d.a(arguments[c]);return d};e.s=function(a,b){if(!a.cloneNode)throw Error("invalid node");for(var d=new f(h,[{f:r,c:[a]}]),c=1;c<arguments.length;++c)d.a(arguments[c]);return d};e.A=function(a){return e.g=a};e.find=function(a,b,d){a=
a.node||a;d=d?d.node||d.b||d:null;for(var c=a._pico;!c||b&&!b(c);){if(a===d)return null;c=a.firstChild;if(!c)for(;!(c=a.nextSibling);)if(a=a.parentNode,null===a)return null;a=c;c=a._pico}return c}})(this.v=this.v||{});
